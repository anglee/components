Do what Martin Fowler described here:
http://martinfowler.com/articles/refactoring-pipelines.html
